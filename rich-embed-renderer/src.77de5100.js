parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"craX":[function(require,module,exports) {
var define;
var e;!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):(t="undefined"!=typeof globalThis?globalThis:t||self).contentfulExtension=n()}(this,function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function o(e){return this instanceof o?(this.v=e,this):new o(e)}var i=Object.freeze({__proto__:null,__extends:function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},get __assign(){return t},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}l((r=r.apply(e,t||[])).next())})},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},__exportStar:function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},__values:n,__read:r,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},__await:o,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||l(e,t)})})}function l(e,t){try{(n=i[e](t)).value instanceof o?Promise.resolve(n.value.v).then(s,c):f(a[0][2],n)}catch(e){f(a[0][3],e)}var n}function s(e){l("next",e)}function c(e){l("throw",e)}function f(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:o(e[r](t)),done:"return"===r}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=n(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}}});function a(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var u=a(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._id=0,this._listeners={}}return e.prototype.dispatch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r in this._listeners)(e=this._listeners)[r].apply(e,t)},e.prototype.attach=function(e){var t=this;if("function"!=typeof e)throw new Error("listener function expected");var n=this._id++;return this._listeners[n]=e,function(){return delete t._listeners[n]}},e}();t.Signal=r;var o="__private__memoized__arguments__",a=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.call(this)||this;if(i[n]=[],!t.length)throw new Error("Initial value to be memoized expected");return i[o]=t,i}return i.__extends(t,e),t.prototype.dispatch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this[o]=t,e.prototype.dispatch.apply(this,t)},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return t.apply(void 0,this[o]),n},t}(r);t.MemoizedSignal=a,n=o}),l=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){!function(e,t){e.addEventListener("message",function n(r){var o=r.data;"connect"===o.method&&(e.removeEventListener("message",n),t.apply(void 0,o.params))})}(e,function(r,o){var i=new n(r.id,e);t(i,r,o)})};var n=function(){function e(e,t){var n=this;this._messageHandlers={},this._responseHandlers={},this._send=function(e,t){var n=0;return function(r,o){var i=n++;return t.postMessage({source:e,id:i,method:r,params:o},"*"),i}}(e,t.parent),t.addEventListener("message",function(e){n._handleMessage(e.data)})}return e.prototype.call=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._send(e,n);return new Promise(function(e,n){t._responseHandlers[o]={resolve:e,reject:n}})},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._send(e,t)},e.prototype.addHandler=function(e,t){return e in this._messageHandlers||(this._messageHandlers[e]=new u.Signal),this._messageHandlers[e].attach(t)},e.prototype._handleMessage=function(e){if(e.method){var t=e.method,n=e.params,r=this._messageHandlers[t];r&&r.dispatch.apply(r,n)}else{var o=e.id,i=this._responseHandlers[o];if(!i)return;"result"in e?i.resolve(e.result):"error"in e&&i.reject(e.error),delete this._responseHandlers[o]}},e}()}),s=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i.__importDefault(l);t.default=function(e,t){var r,o=((r={promise:null,resolve:null}).promise=new Promise(function(e){r.resolve=e}),r);return o.promise.then(function(t){var n=t[0],r=e.document;r.addEventListener("focus",function(){return n.send("setActive",!0)},!0),r.addEventListener("blur",function(){return n.send("setActive",!1)},!0)}),n.default(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.resolve(e)}),function(n,r){var i=(void 0===r?{}:r).makeCustomApi,a=void 0===i?null:i;o.promise.then(function(r){var o,i=r[0],u=r[1],l=r[2],s=t(i,u,e);"function"==typeof a&&(o=a(i,u)),l.forEach(function(e){i._handleMessage(e)}),n(s,o)})}}}),c=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["id","locale","type","required","validations","items"],r=function(){function e(e,t){var r=this;n.forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),this._value=t.value,this._valueSignal=new u.MemoizedSignal(this._value),this._isDisabledSignal=new u.MemoizedSignal(void 0),this._schemaErrorsChangedSignal=new u.MemoizedSignal(void 0),this._channel=e,e.addHandler("valueChanged",function(e,t,n){e!==r.id||t&&t!==r.locale||(r._value=n,r._valueSignal.dispatch(n))}),e.addHandler("isDisabledChangedForFieldLocale",function(e,t,n){e===r.id&&t===r.locale&&r._isDisabledSignal.dispatch(n)}),e.addHandler("schemaErrorsChangedForFieldLocale",function(e,t,n){e===r.id&&t===r.locale&&r._schemaErrorsChangedSignal.dispatch(n)})}return e.prototype.getValue=function(){return this._value},e.prototype.setValue=function(e){return this._value=e,this._valueSignal.dispatch(e),this._channel.call("setValue",this.id,this.locale,e)},e.prototype.removeValue=function(){return this._value=void 0,this._channel.call("removeValue",this.id,this.locale)},e.prototype.setInvalid=function(e){return this._channel.call("setInvalid",e,this.locale)},e.prototype.onValueChanged=function(e){return this._valueSignal.attach(e)},e.prototype.onIsDisabledChanged=function(e){return this._isDisabledSignal.attach(e)},e.prototype.onSchemaErrorsChanged=function(e){return this._schemaErrorsChangedSignal.attach(e)},e}();t.default=r}),f=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i.__importDefault(c),r=["id","locales","type","required","validations","items"],o=function(){function e(e,t,o){var u=this;r.forEach(function(e){void 0!==t[e]&&(u[e]=t[e])}),this._defaultLocale=o,this._fieldLocales=t.locales.reduce(function(r,o){var a,u=new n.default(e,{id:t.id,type:t.type,required:t.required,validations:t.validations,items:t.items,locale:o,value:t.values[o]});return i.__assign(i.__assign({},r),((a={})[o]=u,a))},{}),a(this,o)}return e.prototype.getValue=function(e){return this._getFieldLocale(e).getValue()},e.prototype.setValue=function(e,t){return this._getFieldLocale(t).setValue(e)},e.prototype.removeValue=function(e){return this.setValue(void 0,e)},e.prototype.onValueChanged=function(e,t){return t||(t=e,e=void 0),this._getFieldLocale(e).onValueChanged(t)},e.prototype.onIsDisabledChanged=function(e,t){return t||(t=e,e=void 0),this._getFieldLocale(e).onIsDisabledChanged(t)},e.prototype._getFieldLocale=function(e){return a(this,e=e||this._defaultLocale),this._fieldLocales[e]},e.prototype.getForLocale=function(e){if(!e)throw new Error("getForLocale must be passed a locale");return this._getFieldLocale(e)},e}();function a(e,t){if(!e._fieldLocales[t])throw new Error('Unknown locale "'+t+'" for field "'+e.id+'"')}t.default=o}),d=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.document,r=e.MutationObserver,o=function(){l.updateHeight()},i=new r(o),a=null,u=!1,l={startAutoResizer:function(){l.updateHeight(),u||(u=!0,i.observe(n.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),e.addEventListener("resize",o))},stopAutoResizer:function(){u&&(u=!1,i.disconnect(),e.removeEventListener("resize",o))},updateHeight:function(e){void 0===e&&(e=null),null===e&&(e=Math.ceil(n.documentElement.getBoundingClientRect().height)),e!==a&&(t.send("setHeight",e),a=e)}};return l}}),p=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=t.sys,a=new u.MemoizedSignal(o),l=t.metadata;return e.addHandler("sysChanged",function(e){o=e,a.dispatch(o)}),i.__assign({getSys:function(){return o},onSysChanged:function(e){return a.attach(e)},fields:n.reduce(function(e,t){return e[t.id]=r(t),e},{})},l?{metadata:l}:{})}}),_=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["getContentType","getEntry","getEntrySnapshots","getAsset","getEditorInterface","getPublishedEntries","getPublishedAssets","getContentTypes","getEntries","getEditorInterfaces","getAssets","createContentType","createEntry","createAsset","updateContentType","updateEntry","updateAsset","deleteContentType","deleteEntry","deleteAsset","publishEntry","publishAsset","unpublishEntry","unpublishAsset","archiveEntry","archiveAsset","unarchiveEntry","unarchiveAsset","createUpload","processAsset","waitUntilAssetProcessed","getUsers","getAllScheduledActions","getEntityScheduledActions"];t.default=function(e,t){var r={};return n.forEach(function(t){r[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call("callSpaceMethod",t,n)}}),r.getCachedContentTypes=function(){return i.__spreadArrays(t)},r}}),h=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return"object"!=typeof(t=e)||null===t||Array.isArray(t)?{}:e;var t};t.default=function(e,t){return{openAlert:r.bind(null,"alert"),openConfirm:r.bind(null,"confirm"),openPrompt:r.bind(null,"prompt"),openExtension:o,openCurrentApp:a,openCurrent:function(e){return t.app?a(e):o(i.__assign(i.__assign({},e),{id:t.extension}))},selectSingleEntry:u.bind(null,"Entry",!1),selectSingleAsset:u.bind(null,"Asset",!1),selectMultipleEntries:u.bind(null,"Entry",!0),selectMultipleAssets:u.bind(null,"Asset",!0)};function r(t,r){return e.call("openDialog",t,n(r))}function o(r){if(r=n(r),(r=i.__assign(i.__assign({},r),{id:r.id||t.extension})).id)return e.call("openDialog","extension",r);throw new Error("Extension ID not provided.")}function a(r){if(r=n(r),(r=i.__assign(i.__assign({},r),{id:t.app})).id)return e.call("openDialog","app",r);throw new Error("Not in the app context.")}function u(t,r,o){return(o=n(o)).entityType=t,o.multiple=r,e.call("openDialog","entitySelector",o)}}}),y=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new u.MemoizedSignal(void 0),r=new u.MemoizedSignal(void 0);return e.addHandler("localeSettingsChanged",function(e){n.dispatch(e)}),e.addHandler("showDisabledFieldsChanged",function(e){r.dispatch(e)}),{editorInterface:t,onLocaleSettingsChanged:function(e){return n.attach(e)},onShowDisabledFieldsChanged:function(e){return r.attach(e)}}}}),v=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new u.Signal;return e.addHandler("navigateSlideIn",function(e){n.dispatch(e)}),{openEntry:function(t,n){return e.call("navigateToContentEntity",i.__assign(i.__assign({},n),{entityType:"Entry",id:t}))},openNewEntry:function(t,n){return e.call("navigateToContentEntity",i.__assign(i.__assign({},n),{entityType:"Entry",id:null,contentTypeId:t}))},openBulkEditor:function(t,n){return e.call("navigateToBulkEditor",i.__assign({entryId:t},n))},openAsset:function(t,n){return e.call("navigateToContentEntity",i.__assign(i.__assign({},n),{entityType:"Asset",id:t}))},openNewAsset:function(t){return e.call("navigateToContentEntity",i.__assign(i.__assign({},t),{entityType:"Asset",id:null}))},openPageExtension:function(n){return e.call("navigateToPage",i.__assign({type:"extension",id:t.extension},n))},openCurrentAppPage:function(n){return e.call("navigateToPage",i.__assign({type:"app",id:t.app},n))},onSlideInNavigation:function(e){return n.attach(e)}}}}),g=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="preInstall",r="postInstall",o=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},i=function(e){return"function"==typeof e},a=function(e){return console.error(e),Promise.resolve(!1)},u=function(e,t,n){if(!i(e))return Promise.resolve(t);var r;try{r=void 0===n?e():e(n)}catch(e){return a(e)}var u,l=r;return o(u=l)&&i(u.then)||(l=Promise.resolve(l)),l.then(function(e){return e instanceof Error?Promise.reject(e):!1!==e&&(o(e)?e:t)},a).catch(a)};t.default=function(e){var t,o=((t={}).preInstall=null,t.postInstall=null,t),a=function(e,t){if(!i(t))throw new Error("Handler must be a function.");o[e]=t};return e.addHandler("appHook",function(t){var i=t.stage,a=t.installationRequestId,l=t.err;return i===n?u(o[i],{}).then(function(t){return e.send("appHookResult",{stage:i,installationRequestId:a,result:t})}):i===r?u(o[i],void 0,l||null).then(function(){return e.send("appHookResult",{stage:i,installationRequestId:a})}):Promise.resolve()}),{setReady:function(){return e.call("callAppMethod","setReady")},isInstalled:function(){return e.call("callAppMethod","isInstalled")},getParameters:function(){return e.call("callAppMethod","getParameters")},getCurrentState:function(){return e.call("callAppMethod","getCurrentState")},onConfigure:function(e){a(n,e)},onConfigurationCompleted:function(e){a(r,e)}}}}),m=a(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={LOCATION_ENTRY_FIELD:"entry-field",LOCATION_ENTRY_FIELD_SIDEBAR:"entry-field-sidebar",LOCATION_ENTRY_SIDEBAR:"entry-sidebar",LOCATION_DIALOG:"dialog",LOCATION_ENTRY_EDITOR:"entry-editor",LOCATION_PAGE:"page",LOCATION_APP_CONFIG:"app-config"}}),b=a(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0});var r=i.__importDefault(f),o=i.__importDefault(c),a=i.__importDefault(d),u=i.__importDefault(p),l=i.__importDefault(_),s=i.__importDefault(h),b=i.__importDefault(y),E=i.__importDefault(v),w=i.__importDefault(g),O=i.__importDefault(m),A=[C,T,function(e,t){var n=t.field;return{field:new o.default(e,n)}},P,S],I=((n={})[O.default.LOCATION_ENTRY_FIELD]=A,n[O.default.LOCATION_ENTRY_FIELD_SIDEBAR]=A,n[O.default.LOCATION_ENTRY_SIDEBAR]=[C,T,P,S],n[O.default.LOCATION_ENTRY_EDITOR]=[C,T,P],n[O.default.LOCATION_DIALOG]=[C,function(e){return{close:function(t){return e.send("closeDialog",t)}}},S],n[O.default.LOCATION_PAGE]=[C],n[O.default.LOCATION_APP_CONFIG]=[C,function(e){return{app:w.default(e)}}],n);function C(e,t){var n=t.user,r=t.parameters,o=t.locales,i=t.ids,a=t.initialContentTypes,u=t.location||O.default.LOCATION_ENTRY_FIELD;return{location:{is:function(e){return u===e}},user:n,parameters:r,locales:{available:o.available,default:o.default,names:o.names,fallbacks:o.fallbacks,optional:o.optional,direction:o.direction},space:l.default(e,a),dialogs:s.default(e,i),navigator:E.default(e,i),notifier:{success:function(t){return e.send("notify",{type:"success",message:t})},error:function(t){return e.send("notify",{type:"error",message:t})}},ids:i,access:{can:function(t,n){return e.call("checkAccess",t,n)}}}}function S(e,t,n){return{window:a.default(n,e)}}function P(e,t){var n=t.editorInterface;return{editor:b.default(e,n)}}function T(e,t){var n=t.locales,o=t.contentType,i=t.entry,a=t.fieldInfo;return{contentType:o,entry:u.default(e,i,a,function(t){return new r.default(e,t,n.default)})}}t.default=function(e,t,n){return(I[t.location]||A).reduce(function(r,o){return i.__assign(i.__assign({},r),o(e,t,n))},{})}}),E=i.__importDefault(s),w=i.__importDefault(b),O=i.__importDefault(m);return{init:E.default(window,w.default),locations:O.default}});
},{}],"vKFU":[function(require,module,exports) {

},{}],"BHXf":[function(require,module,exports) {
"use strict";function e(e,t){var n;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];n&&clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,o)},t)}}function t(e){var t=e.contentDocument,n=e.contentWindow;if(!t||!n)return function(){};var o=null;function r(){var n=Math.ceil(t.documentElement.getBoundingClientRect().height);n!==o&&(e.style.height=n+"px",o=n)}new MutationObserver(r).observe(t.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),r(),n.addEventListener("resize",r)}function n(e){e.addEventListener("load",function n(){t(e),e.removeEventListener("load",n)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounce=void 0,exports.debounce=e,exports.default=n;
},{}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var i in n)"default"!==i&&Object.prototype.hasOwnProperty.call(n,i)&&e(r,n,i);return t(r,n),r},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(exports,"__esModule",{value:!0});var o=require("contentful-ui-extensions-sdk");require("./index.css");var a=n(require("./util"));function l(e,t){var n=e.parameters.installation.iframelyKey,o=e.field.getValue();function l(t){return r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return o=t,[4,e.field.setValue(t)];case 1:return n.sent(),[2]}})})}function s(e){if("string"==typeof e)t.innerHTML=e;else if(e.valid){var n=document.createElement("iframe");n.srcdoc=e.html,n.className="preview-iframe",t.innerHTML="",t.appendChild(n),a.default(n)}}if(e.window.startAutoResizer(),t.innerHTML="<p>Loading...</p>",!n)return s('<strong style="color: #A00">No Iframely key has been set! Please configure the installation settings.</strong>');var u=e.parameters.instance.urlFieldId||"url",c=e.entry.fields[u];if(!c)return s('<strong style="color: #A00">Couldn\'t find a URL field called `'+u+"`</strong>");var f=a.debounce(function(e){!e&&!(null==o?void 0:o.valid)||(null==o?void 0:o.valid)&&e===o.url?t.classList.remove("loading"):e?function(e){return r(this,void 0,Promise,function(){var t;return i(this,function(r){switch(r.label){case 0:return console.debug("Calling API"),[4,fetch("https://cdn.iframe.ly/api/oembed?api_key="+n+"&url="+encodeURIComponent(e))];case 1:return[4,r.sent().json()];case 2:if(!(t=r.sent()).url||!t.html)throw new Error("Unexpected Response");return[2,{valid:!0,url:t.url,html:t.html,description:t.description||null}]}})})}(e).then(function(e){l(e),s(e),t.classList.remove("loading")}).catch(function(e){l({valid:!1}),s('<strong style="color: #A00">Error loading the embed: '+e.name+"</strong>"),t.classList.remove("loading")}):(s("<p>Please set a URL</p>"),t.classList.remove("loading"),l({valid:!1}))},500);c.onValueChanged(function(e){return function(e){t.classList.add("loading"),f(e)}(e)}),(null==o?void 0:o.valid)?s(o):s("<p>Please set a URL</p>")}o.init(function(e){var t=document.querySelector("#root");e.location.is(o.locations.LOCATION_ENTRY_FIELD)?l(e,t):t.innerHTML="<p>The extension cannot be rendered in this location</p>"});
},{"contentful-ui-extensions-sdk":"craX","./index.css":"vKFU","./util":"BHXf"}]},{},["QCba"], null)