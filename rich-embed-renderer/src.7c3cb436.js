parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"craX":[function(require,module,exports) {
var define;
var e;!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof e&&e.amd?e(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).contentfulExtension={})}(this,function(e){"use strict";var t,n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(){function e(){this._id=0,this._listeners={}}return e.prototype.dispatch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r in this._listeners)(e=this._listeners)[r].apply(e,t)},e.prototype.attach=function(e){var t=this;if("function"!=typeof e)throw new Error("listener function expected");var n=this._id++;return this._listeners[n]=e,function(){return delete t._listeners[n]}},e}(),o="__private__memoized__arguments__",a=function(e){function r(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.call(this)||this;if(i[t]=[],!n.length)throw new Error("Initial value to be memoized expected");return i[o]=n,i}return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(r,e),r.prototype.dispatch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this[o]=t,e.prototype.dispatch.apply(this,t)},r.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return t.apply(void 0,this[o]),n},r}(i);t=o;var s=function(){function e(e,t){var n=this;this._messageHandlers={},this._responseHandlers={},this._send=function(e,t){var n=0;return function(r,i){var o=n++;return t.postMessage({source:e,id:o,method:r,params:i},"*"),o}}(e,t.parent),t.addEventListener("message",function(e){n._handleMessage(e.data)})}return e.prototype.call=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._send(e,n);return new Promise(function(e,n){t._responseHandlers[i]={resolve:e,reject:n}})},e.prototype.send=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._send(e,t)},e.prototype.addHandler=function(e,t){return e in this._messageHandlers||(this._messageHandlers[e]=new i),this._messageHandlers[e].attach(t)},e.prototype._handleMessage=function(e){if(e.method){var t=e.method,n=e.params,r=this._messageHandlers[t];r&&r.dispatch.apply(r,n)}else{var i=e.id,o=this._responseHandlers[i];if(!o)return;"result"in e?o.resolve(e.result):"error"in e&&o.reject(e.error),delete this._responseHandlers[i]}},e}(),l=function(){function e(e,t){var n=this;this.id=t.id,this.locale=t.locale,this.type=t.type,this.required=t.required,this.validations=t.validations,this.items=t.items,this._value=t.value,this._valueSignal=new a(this._value),this._isDisabledSignal=new a(void 0),this._schemaErrorsChangedSignal=new a(void 0),this._channel=e,e.addHandler("valueChanged",function(e,t,r){e!==n.id||t&&t!==n.locale||(n._value=r,n._valueSignal.dispatch(r))}),e.addHandler("isDisabledChangedForFieldLocale",function(e,t,r){e===n.id&&t===n.locale&&n._isDisabledSignal.dispatch(r)}),e.addHandler("schemaErrorsChangedForFieldLocale",function(e,t,r){e===n.id&&t===n.locale&&n._schemaErrorsChangedSignal.dispatch(r)})}return e.prototype.getValue=function(){return this._value},e.prototype.setValue=function(e){return this._value=e,this._valueSignal.dispatch(e),this._channel.call("setValue",this.id,this.locale,e)},e.prototype.removeValue=function(){return this._value=void 0,this._channel.call("removeValue",this.id,this.locale)},e.prototype.setInvalid=function(e){return this._channel.call("setInvalid",e,this.locale)},e.prototype.onValueChanged=function(e){return this._valueSignal.attach(e)},e.prototype.onIsDisabledChanged=function(e){return this._isDisabledSignal.attach(e)},e.prototype.onSchemaErrorsChanged=function(e){return this._schemaErrorsChangedSignal.attach(e)},e}(),u=function(){function e(e,t,n){this.id=t.id,this.locales=t.locales,this.type=t.type,this.required=t.required,this.validations=t.validations,this.items=t.items,this._defaultLocale=n,this._fieldLocales=t.locales.reduce(function(n,i){var o,a=new l(e,{id:t.id,type:t.type,required:t.required,validations:t.validations,items:t.items,locale:i,value:t.values[i]});return r(r({},n),((o={})[i]=a,o))},{}),this.assertHasLocale(n)}return e.prototype.getValue=function(e){return this._getFieldLocale(e).getValue()},e.prototype.setValue=function(e,t){return this._getFieldLocale(t).setValue(e)},e.prototype.removeValue=function(e){return this.setValue(void 0,e)},e.prototype.onValueChanged=function(e,t){var n=t||e;return t||(e=""),this._getFieldLocale(e).onValueChanged(n)},e.prototype.onIsDisabledChanged=function(e,t){var n=t||e;return t||(e=""),this._getFieldLocale(e).onIsDisabledChanged(n)},e.prototype._getFieldLocale=function(e){return e=e||this._defaultLocale,this.assertHasLocale(e),this._fieldLocales[e]},e.prototype.getForLocale=function(e){if(!e)throw new Error("getForLocale must be passed a locale");return this._getFieldLocale(e)},e.prototype.assertHasLocale=function(e){if(!this._fieldLocales[e])throw new Error('Unknown locale "'+e+'" for field "'+this.id+'"')},e}();function c(e,t){var n,r=e,i=r.document,o=r.MutationObserver,a=function(){u.updateHeight()},s=new o(a),l=!1,u={startAutoResizer:function(){u.updateHeight(),l||(l=!0,s.observe(i.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),e.addEventListener("resize",a))},stopAutoResizer:function(){l&&(l=!1,s.disconnect(),e.removeEventListener("resize",a))},updateHeight:function(e){void 0===e&&(e=null),null===e&&(e=Math.ceil(i.documentElement.getBoundingClientRect().height)),e!==n&&(t.send("setHeight",e),n=e)}};return u}function d(e,t,n,i){var o=t.sys,s=new a(o),l=t.metadata;return e.addHandler("sysChanged",function(e){o=e,s.dispatch(o)}),r({getSys:function(){return o},onSysChanged:function(e){return s.attach(e)},fields:n.reduce(function(e,t){return e[t.id]=i(t),e},{})},l?{metadata:l}:{})}var p=["getContentType","getEntry","getEntrySnapshots","getAsset","getEditorInterface","getPublishedEntries","getPublishedAssets","getContentTypes","getEntries","getEditorInterfaces","getAssets","createContentType","createEntry","createAsset","updateContentType","updateEntry","updateAsset","deleteContentType","deleteEntry","deleteAsset","publishEntry","publishAsset","unpublishEntry","unpublishAsset","archiveEntry","archiveAsset","unarchiveEntry","unarchiveAsset","createUpload","processAsset","waitUntilAssetProcessed","getUsers","getAllScheduledActions","getEntityScheduledActions","signRequest"];function f(e,t){var n={};return p.forEach(function(t){n[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call("callSpaceMethod",t,n)}}),n.getCachedContentTypes=function(){return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(t)},n}var h=function(e){return"object"!=typeof(t=e)||null===t||Array.isArray(t)?{}:e;var t};function g(e,t){return{openAlert:n.bind(null,"alert"),openConfirm:n.bind(null,"confirm"),openPrompt:n.bind(null,"prompt"),openExtension:i,openCurrentApp:o,openCurrent:function(e){return t.app?o(e):i(r(r({},e),{id:t.extension}))},selectSingleEntry:a.bind(null,"Entry",!1),selectSingleAsset:a.bind(null,"Asset",!1),selectMultipleEntries:a.bind(null,"Entry",!0),selectMultipleAssets:a.bind(null,"Asset",!0)};function n(t,n){return e.call("openDialog",t,h(n))}function i(n){if(n=h(n),(n=r(r({},n),{id:n.id||t.extension})).id)return e.call("openDialog","extension",n);throw new Error("Extension ID not provided.")}function o(n){if(n=h(n),t.app){var i=r(r({},n),{id:t.app});return e.call("openDialog","app",i)}throw new Error("Not in the app context.")}function a(t,n,r){return(r=h(r)).entityType=t,r.multiple=n,e.call("openDialog","entitySelector",r)}}function v(e,t){var n=new a(void 0),r=new a(void 0);return e.addHandler("localeSettingsChanged",function(e){n.dispatch(e)}),e.addHandler("showDisabledFieldsChanged",function(e){r.dispatch(e)}),{editorInterface:t,onLocaleSettingsChanged:function(e){return n.attach(e)},onShowDisabledFieldsChanged:function(e){return r.attach(e)}}}function y(e,t){var n=new i;return e.addHandler("navigateSlideIn",function(e){n.dispatch(e)}),{openEntry:function(t,n){return e.call("navigateToContentEntity",r(r({},n),{entityType:"Entry",id:t}))},openNewEntry:function(t,n){return e.call("navigateToContentEntity",r(r({},n),{entityType:"Entry",id:null,contentTypeId:t}))},openBulkEditor:function(t,n){return e.call("navigateToBulkEditor",r({entryId:t},n))},openAsset:function(t,n){return e.call("navigateToContentEntity",r(r({},n),{entityType:"Asset",id:t}))},openNewAsset:function(t){return e.call("navigateToContentEntity",r(r({},t),{entityType:"Asset",id:null}))},openPageExtension:function(n){return e.call("navigateToPage",r({type:"extension",id:t.extension},n))},openCurrentAppPage:function(n){return e.call("navigateToPage",r({type:"app",id:t.app},n))},openAppConfig:function(){return e.call("navigateToAppConfig")},onSlideInNavigation:function(e){return n.attach(e)}}}var _="preInstall",E="postInstall",m=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},A=function(e){return"function"==typeof e},C=function(e){return console.error(e),Promise.resolve(!1)},I=function(e,t,n){if(!A(e))return Promise.resolve(t);var r;try{r=void 0===n?e():e(n)}catch(e){return C(e)}var i,o=r;return m(i=o)&&A(i.then)||(o=Promise.resolve(o)),o.then(function(e){return e instanceof Error?Promise.reject(e):!1!==e&&(m(e)?e:t)},C).catch(C)};function w(e){var t,n=((t={}).preInstall=null,t.postInstall=null,t),r=function(e,t){if(!A(t))throw new Error("Handler must be a function.");n[e]=t};return e.addHandler("appHook",function(t){var r=t.stage,i=t.installationRequestId,o=t.err;return r===_?I(n[r],{}).then(function(t){return e.send("appHookResult",{stage:r,installationRequestId:i,result:t})}):r===E?I(n[r],void 0,o||null).then(function(){return e.send("appHookResult",{stage:r,installationRequestId:i})}):Promise.resolve()}),{setReady:function(){return e.call("callAppMethod","setReady")},isInstalled:function(){return e.call("callAppMethod","isInstalled")},getParameters:function(){return e.call("callAppMethod","getParameters")},getCurrentState:function(){return e.call("callAppMethod","getCurrentState")},onConfigure:function(e){r(_,e)},onConfigurationCompleted:function(e){r(E,e)}}}var b,T={LOCATION_ENTRY_FIELD:"entry-field",LOCATION_ENTRY_FIELD_SIDEBAR:"entry-field-sidebar",LOCATION_ENTRY_SIDEBAR:"entry-sidebar",LOCATION_DIALOG:"dialog",LOCATION_ENTRY_EDITOR:"entry-editor",LOCATION_PAGE:"page",LOCATION_APP_CONFIG:"app-config"},L=[S,H,function(e,t){var n=t.field;if(!n)throw new Error('FieldAPI called for location without "field" property defined.');return{field:new l(e,n)}},D,N],O=((b={})[T.LOCATION_ENTRY_FIELD]=L,b[T.LOCATION_ENTRY_FIELD_SIDEBAR]=L,b[T.LOCATION_ENTRY_SIDEBAR]=[S,H,D,N],b[T.LOCATION_ENTRY_EDITOR]=[S,H,D],b[T.LOCATION_DIALOG]=[S,function(e){return{close:function(t){return e.send("closeDialog",t)}}},N],b[T.LOCATION_PAGE]=[S],b[T.LOCATION_APP_CONFIG]=[S,function(e){return{app:w(e)}}],b);function S(e,t){var n=t.user,r=t.parameters,i=t.locales,o=t.ids,a=t.initialContentTypes,s=t.location||T.LOCATION_ENTRY_FIELD;return{location:{is:function(e){return s===e}},user:n,parameters:r,locales:{available:i.available,default:i.default,names:i.names,fallbacks:i.fallbacks,optional:i.optional,direction:i.direction},space:f(e,a),dialogs:g(e,o),navigator:y(e,o),notifier:{success:function(t){return e.send("notify",{type:"success",message:t})},error:function(t){return e.send("notify",{type:"error",message:t})}},ids:o,access:{can:function(t,n){return e.call("checkAccess",t,n)},canEditAppConfig:function(){return e.call("checkAppConfigAccess")}}}}function N(e,t,n){return{window:c(n,e)}}function D(e,t){return{editor:v(e,t.editorInterface)}}function H(e,t){var n=t.locales,r=t.contentType,i=t.entry,o=t.fieldInfo;return{contentType:r,entry:d(e,i,o,function(t){return new u(e,t,n.default)})}}var P,R,x,F,k=(P=window,R=function(e,t,n){return(O[t.location]||L).reduce(function(i,o){return r(r({},i),o(e,t,n))},{})},(x={promise:null,resolve:null}).promise=new Promise(function(e){x.resolve=e}),(F=x).promise.then(function(e){var t=e[0],n=P.document;n.addEventListener("focus",function(){return t.send("setActive",!0)},!0),n.addEventListener("blur",function(){return t.send("setActive",!1)},!0)}),function(e,t){!function(e,t){e.addEventListener("message",function n(r){var i=r.data;"connect"===i.method&&(e.removeEventListener("message",n),t.apply(void 0,i.params))})}(e,function(t,n){!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];F.resolve(e)}(new s(t.id,e),t,n)})}(P),function(e,t){var n=void 0===t?{supressIframeWarning:!1}:t,r=n.makeCustomApi;n.supressIframeWarning||P.self!==P.top||console.error("Cannot use ui-extension-sdk outside of Contenful:\n\nIn order for the ui-extension-sdk to function correctly, your app needs to be run in an iframe in the Contentful Web App.\n\nLearn more about local development with the ui-extension-sdk here:\n  https://www.contentful.com/developers/docs/extensibility/ui-extensions/faq/#how-can-i-use-the-ui-extension-sdk-locally"),F.promise.then(function(t){var n,i=t[0],o=t[1],a=t[2],s=R(i,o,P);"function"==typeof r&&(n=r(i,o)),a.forEach(function(e){i._handleMessage(e)}),e(s,n)})});e.init=k,e.locations=T,Object.defineProperty(e,"__esModule",{value:!0})}),window.contentfulApp=window.contentfulExtension;
},{}],"vKFU":[function(require,module,exports) {

},{}],"BHXf":[function(require,module,exports) {
"use strict";function e(e,t){var n;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];n&&clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,o)},t)}}function t(e){var t=e.contentDocument,n=e.contentWindow;if(!t||!n)return function(){};var o=null;function r(){var n=Math.ceil(t.documentElement.getBoundingClientRect().height);n!==o&&(e.style.height=n+"px",o=n)}new MutationObserver(r).observe(t.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),r(),n.addEventListener("resize",r)}function n(e){e.addEventListener("load",function n(){t(e),e.removeEventListener("load",n)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounce=void 0,exports.debounce=e,exports.default=n;
},{}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var i in n)"default"!==i&&Object.prototype.hasOwnProperty.call(n,i)&&e(r,n,i);return t(r,n),r},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(exports,"__esModule",{value:!0});var o=require("contentful-ui-extensions-sdk");require("./index.css");var a=n(require("./util"));function l(e,t){var n=e.parameters.installation.iframelyKey,o=e.field.getValue();function l(t){return r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return o=t,[4,e.field.setValue(t)];case 1:return n.sent(),[2]}})})}function s(e){if("string"==typeof e)t.innerHTML=e;else if(e.valid){var n=document.createElement("iframe");n.srcdoc=e.html,n.className="preview-iframe",t.innerHTML="",t.appendChild(n),a.default(n)}}if(e.window.startAutoResizer(),t.innerHTML="<p>Loading...</p>",!n)return s('<strong style="color: #A00">No Iframely key has been set! Please configure the installation settings.</strong>');var u=e.parameters.instance.urlFieldId||"url",c=e.entry.fields[u];if(!c)return s('<strong style="color: #A00">Couldn\'t find a URL field called `'+u+"`</strong>");var f=a.debounce(function(e){!e&&!(null==o?void 0:o.valid)||(null==o?void 0:o.valid)&&e===o.url?t.classList.remove("loading"):e?function(e){return r(this,void 0,Promise,function(){var t;return i(this,function(r){switch(r.label){case 0:return[4,fetch("https://cdn.iframe.ly/api/oembed?api_key="+n+"&url="+encodeURIComponent(e))];case 1:return[4,r.sent().json()];case 2:if(!(t=r.sent()).url||!t.html)throw new Error("Unexpected Response");return[2,{valid:!0,url:t.url,html:t.html,description:t.description||null}]}})})}(e).then(function(e){l(e),s(e),t.classList.remove("loading")}).catch(function(e){l({valid:!1}),s('<strong style="color: #A00">Error loading the embed: '+e.name+"</strong>"),t.classList.remove("loading")}):(s("<p>Please set a URL</p>"),t.classList.remove("loading"),l({valid:!1}))},500);c.onValueChanged(function(e){return function(e){t.classList.add("loading"),f(e)}(e)}),(null==o?void 0:o.valid)?s(o):s("<p>Please set a URL</p>")}o.init(function(e){var t=document.querySelector("#root");e.location.is(o.locations.LOCATION_ENTRY_FIELD)?l(e,t):t.innerHTML="<p>The extension cannot be rendered in this location</p>"});
},{"contentful-ui-extensions-sdk":"craX","./index.css":"vKFU","./util":"BHXf"}]},{},["QCba"], null)